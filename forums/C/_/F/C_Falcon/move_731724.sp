/* Plugin Template generated by Pawn Studio */

#include <sourcemod>
#include <sdktools>

public Plugin:myinfo =
{
	name = "sm_swap",
	author = "C.Falcon",
	description = "Simple plugin to move players to spectator in insurgency",
	version = "1.0",
	url = "<- URL ->"
};


public OnPluginStart()
{
	LoadTranslations("common.phrases");
	RegAdminCmd("sm_move", Command_Move, ADMFLAG_GENERIC, "sm_move <#userid|name>");	
}

public Action:Command_Move(client, args)
{
	//Return usage if no arguments
	if (args < 1)
	{
		ReplyToCommand(client, "sm_move <#userid|name>");
		return Plugin_Handled;
	}
	
	//Validate the target
	decl String:arg1[65];
	GetCmdArg(1, arg1, sizeof(arg1));

	new target = FindTarget(client, arg1);
	if (target == -1)
	{
		return Plugin_Handled;
	}

	
	//move the player to the spectator
	PrintToChatAll("%N was moved to spectator by: %N", target, client);
	ChangeClientTeam(target, 0);
	ClientCommand(target, "kill");
	return Plugin_Handled;

}
