#include <sourcemod>

#define PLUGIN_VERSION "1.0.0"

public Plugin:myinfo = 
{
	name = "Left 4 Dead Infected Exploit Fix",
	author = "Crimson",
	description = "Blocks the spectate command to prevent the infected team exploit",
	version = "1.0.0",
	url = "http://www.tf2rocketarena.com"
}

public OnPluginStart()
{
	CreateConVar("sm_l4dspawnexploitfix_version", PLUGIN_VERSION, "L4D Infected Spawn Exploit Fix Version", FCVAR_PLUGIN|FCVAR_SPONLY|FCVAR_REPLICATED|FCVAR_NOTIFY);
	RegConsoleCmd("spectate", Command_Spectate);
}

public Action:Command_Spectate(client, args)
{
	decl String:sSteamID[32];
	GetClientAuthString(client, sSteamID, sizeof(sSteamID));

	PrintToServer("Exploit: Possible Attempt by Steam ID %s to Use the Infected Spawn Exploit", sSteamID);
	LogMessage("Exploit: Possible Attempt by Steam ID %s to Use the Infected Spawn Exploit", sSteamID);
	return Plugin_Handled;
}