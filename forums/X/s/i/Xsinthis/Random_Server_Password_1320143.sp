/* Plugin Template generated by Pawn Studio */

#include <sourcemod>

new Handle:sv_password;
public Plugin:myinfo = 
{
	name = "Random Server Password",
	author = "Xsinthis`",
	description = "Randomly generates a server password",
	version = "1.0",
	url = "http://skulshockcommunity.com"
}

public OnPluginStart()
{
	RegAdminCmd("generate_password", GeneratePassword, ADMFLAG_ROOT, "Randomly generates a password for the server");
	sv_password = FindConVar("sv_password");
}

public Action:GeneratePassword(client, args)
{
	new String:password[] = "", String:char[] = "";
	new randomInt;
	new String:listOfChar[] = "aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ0123456789";
	for(new i = 1; i <=26; i++)
	{
		strcopy(char, sizeof(char), listOfChar[randomInt]);
		StrCat(password, sizeof(password), char);
	}
	SetConVarString(sv_password, password);
	PrintToChatAll("Server password changed to:%s", password);
	LogMessage("Server password changed to:%s", password);
}