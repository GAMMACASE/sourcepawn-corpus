/* Plugin Template generated by Pawn Studio */

#include <sourcemod>

public Plugin:myinfo = 
{
	name = "Spectate Restricter",
	author = "exvel",
	description = "Rstricts spectate command for none-admins",
	version = "1.0.0",
	url = "www.sourcemod.net"
}

public OnPluginStart()
{
	RegConsoleCmd("jointeam", Command_JoinTeam);
	RegConsoleCmd("spectate", Command_Spectate);
}

public Action:Command_Spectate(client, args)
{
	if (client == 0)
		return Plugin_Continue;
	
	if (!GetUserFlagBits(client))
		return Plugin_Handled;
	
	return Plugin_Continue;
}

public Action:Command_JoinTeam(client, args)
{
	if (client == 0)
		return Plugin_Continue;
	
	decl String:szTeamNum[5];
	GetCmdArgString(szTeamNum, sizeof(szTeamNum));
	
	new team = StringToInt(szTeamNum);
	
	if (team < 2 && !GetUserFlagBits(client))
		return Plugin_Handled;
	
	return Plugin_Continue;
}