/* Plugin Template generated by Pawn Studio */

#pragma semicolon 1

#include <sourcemod>

#include <steamworks>

new bool:isLateLoad;

public Plugin:myinfo = 
{
	name = "New Plugin",
	author = "PP(R)TH: Dr. Gregory House",
	description = "<- Description ->",
	version = "1.0",
	url = "<- URL ->"
}

public APLRes:AskPluginLoad2(Handle:myself, bool:late, String:error[], err_max)
{
	MarkNativeAsOptional("SteamWorks_SetGameDescription");
	
	isLateLoad = late;
	
	return APLRes_Success;
}

public OnPluginStart()
{
	if(isLateLoad)
	{
		SetGameDescription();
	}
}

public OnAllPluginsLoaded()
{
	LogMessage("LibraryExists(\"SteamWorks\"): %d", LibraryExists("SteamWorks"));
	
	SetGameDescription();
}

public OnMapStart()
{
	SetGameDescription();
}

public SetGameDescription()
{
	LogMessage("SteamWorks_SetGameDescription() %d", SteamWorks_SetGameDescription("House FTW!!!"));
}