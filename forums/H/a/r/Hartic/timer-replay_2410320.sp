



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1" media="(device-height: 568px)">
  <meta http-equiv="Content-Language" content="en">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
  <meta name="theme-color" content="#f5f5f5">

      <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="5767139D:9546:106E3142:570CB18D" name="octolytics-dimension-request_id" />
<meta content="mobile" name="octolytics-dimension-device" />
<meta content="7696380" name="octolytics-dimension-user_id" /><meta content="Ropv30" name="octolytics-dimension-user_login" /><meta content="20163634" name="octolytics-dimension-repository_id" /><meta content="Ropv30/Timer" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="true" name="octolytics-dimension-repository_is_fork" /><meta content="17456235" name="octolytics-dimension-repository_parent_id" /><meta content="KissLick/Timer" name="octolytics-dimension-repository_parent_nwo" /><meta content="17456235" name="octolytics-dimension-repository_network_root_id" /><meta content="KissLick/Timer" name="octolytics-dimension-repository_network_root_nwo" />

<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />



  <meta class="js-ga-set" name="dimension1" content="Logged Out">
    <meta class="js-ga-set" name="dimension3" content="mobile">




  <title>GitHub · Where software is built</title>

  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/mobile-34fd63ab71e57843ac695b3317d3575776959c4676bbe4631300197dbe212e86.css" integrity="sha256-NP1jq3HleEOsaVszF9NXV3aVnEZ2u+RjEwAZfb4hLoY=" media="all" rel="stylesheet" />
</head>
<body class="">
  <header class="nav-bar">
    <div class="nav-bar-inner">
      

      <button class="header-button header-nav-button touchable js-show-global-nav">
        <svg aria-hidden="true" class="octicon octicon-three-bars" height="24" version="1.1" viewBox="0 0 12 16" width="18"><path d="M11.41 9H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1z m0-4H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1zM0.59 11h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1z"></path></svg>

      </button>

      <div class="nav-bar-title-text">
              <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path d="M8 1c-1.11 0-2 0.89-2 2 0 0.73 0.41 1.38 1 1.72v1.28L5 8 3 6v-1.28c0.59-0.34 1-0.98 1-1.72 0-1.11-0.89-2-2-2S0 1.89 0 3c0 0.73 0.41 1.38 1 1.72v1.78l3 3v1.78c-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72V9.5l3-3V4.72c0.59-0.34 1-0.98 1-1.72 0-1.11-0.89-2-2-2zM2 4.2c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z m3 10c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z m3-10c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z"></path></svg>

    <strong><a href="/Ropv30">Ropv30</a></strong>
    /
    <strong><a href="/Ropv30/Timer">Timer</a></strong>

      </div>
    </div>


    <nav class="nav-bar-tabs repo-nav-bar-tabs">
      <ul>
          <li>
            <a href="/explore">
              <svg aria-hidden="true" class="octicon octicon-telescope" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M8 9l3 6h-1L8 11v5h-1V10L5 15h-1l2-5 2-1zM7 0h-1v1h1V0zM5 3h-1v1h1v-1zM2 1H1v1h1V1zM0.63 9c-0.22 0.16-0.28 0.44-0.16 0.67l0.55 0.92c0.13 0.23 0.41 0.31 0.64 0.2l1.39-0.66-1.16-2-1.27 0.86z m7.89-5.39L2.72 7.56l1.23 2.14 6.33-3.03-1.77-3.06z m4.22 1.28l-1.47-2.52c-0.14-0.25-0.47-0.33-0.72-0.17l-1.2 0.83 1.84 3.2 1.33-0.64c0.27-0.13 0.36-0.44 0.22-0.7z"></path></svg>
              Explore
            </a>
          </li>
        <li>
            <a href="/login?return_to=%2FRopv30%2FTimer%2Fblob%2Fmaster%2Faddons%2Fsourcemod%2Fscripting%2Ftimer-replay.sp">
              <svg aria-hidden="true" class="octicon octicon-sign-in" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M6 6.75v5.25h4V8h1v4c0 0.55-0.45 1-1 1H6v3L0.55 13.28c-0.33-0.17-0.55-0.52-0.55-0.91V1C0 0.45 0.45 0 1 0h9c0.55 0 1 0.45 1 1v3h-1V1H2l4 2v2.25l3-2.25v2h4v2H9v2L6 6.75z"></path></svg>
              Sign in
            </a>
        </li>
            <li class="section-title">This repository</li>
    <li><a href="/Ropv30/Timer?files=1"><svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M9.5 3l-1.5 1.5 3.5 3.5L8 11.5l1.5 1.5 4.5-5L9.5 3zM4.5 3L0 8l4.5 5 1.5-1.5L2.5 8l3.5-3.5L4.5 3z"></path></svg> Code</a></li>
    <li><a href="/Ropv30/Timer/pulls"><svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M11 11.28c0-1.73 0-6.28 0-6.28-0.03-0.78-0.34-1.47-0.94-2.06s-1.28-0.91-2.06-0.94c0 0-1.02 0-1 0V0L4 3l3 3V4h1c0.27 0.02 0.48 0.11 0.69 0.31s0.3 0.42 0.31 0.69v6.28c-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72z m-1 2.92c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2zM4 3c0-1.11-0.89-2-2-2S0 1.89 0 3c0 0.73 0.41 1.38 1 1.72 0 1.55 0 5.56 0 6.56-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72V4.72c0.59-0.34 1-0.98 1-1.72z m-0.8 10c0 0.66-0.55 1.2-1.2 1.2s-1.2-0.55-1.2-1.2 0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2z m-1.2-8.8c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z"></path></svg> Pull Requests</a></li>
    <li><a href="/Ropv30/Timer/pulse"><svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0V10h3.6L4.5 8.2l0.9 5.4L9 8.5l1.6 1.5H14V8H11.5z"></path></svg> Pulse</a></li>

      </ul>
    </nav>
  </header>


  <div id="js-flash-container">
</div>


        

<div class="breadcrumb blob-breadcrumb">
  <label for="blob-history-checkbox" class="blob-history-label">
    <svg aria-hidden="true" class="octicon octicon-history" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path d="M8 13H6V6h5v2H8v5zM7 1c-2.19 0-4.13 1.02-5.41 2.59L0 2v4h4l-1.5-1.5c1.05-1.33 2.67-2.2 4.5-2.2 3.14 0 5.7 2.56 5.7 5.7S10.14 13.7 7 13.7 1.3 11.14 1.3 8c0-0.34 0.03-0.67 0.09-1H0.08c-0.05 0.33-0.08 0.66-0.08 1 0 3.86 3.14 7 7 7s7-3.14 7-7S10.86 1 7 1z"></path></svg>
  </label>
  <span class="filetype-icon"><svg aria-hidden="true" class="octicon octicon-file-text" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path></svg></span>
  <span class="js-path-segment"><a href="/Ropv30/Timer/tree/master/addons"><span>addons</span></a></span><span class="separator">/</span><span class="js-path-segment"><a href="/Ropv30/Timer/tree/master/addons/sourcemod"><span>sourcemod</span></a></span><span class="separator">/</span><span class="js-path-segment"><a href="/Ropv30/Timer/tree/master/addons/sourcemod/scripting"><span>scripting</span></a></span><span class="separator">/</span><strong class="final-path">timer-replay.sp</strong>
</div>

<input id="blob-history-checkbox"
       class="js-blob-history-checkbox blob-history-checkbox"
       type="checkbox"
       data-url="/Ropv30/Timer/latest_commit/master/addons/sourcemod/scripting/timer-replay.sp">

<div class="blob-history">
  <a href="/Ropv30/Timer/commits/master/addons/sourcemod/scripting/timer-replay.sp" class="js-blob-history-link">
    Loading latest commit…
</a></div>

  <div class="blob-file-content js-file-line-container">
    <div class="highlighted-blob tab-size" data-tab-size="8"><div class="code-body highlight"><pre><div class='line js-file-line' id='LC1'><span class="pl-k">#pragma</span> <span class="pl-c1">semicolon</span> <span class="pl-c1">1</span></div><div class='line js-file-line' id='LC2'><br></div><div class='line js-file-line' id='LC3'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">sourcemod</span>&gt;</span></div><div class='line js-file-line' id='LC4'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">sdktools</span>&gt;</span></div><div class='line js-file-line' id='LC5'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">cstrike</span>&gt;</span></div><div class='line js-file-line' id='LC6'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">smlib</span>&gt;</span></div><div class='line js-file-line' id='LC7'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">setname</span>&gt;</span></div><div class='line js-file-line' id='LC8'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">timer</span>&gt;</span></div><div class='line js-file-line' id='LC9'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">timer-mapzones</span>&gt;</span></div><div class='line js-file-line' id='LC10'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">timer-worldrecord</span>&gt;</span></div><div class='line js-file-line' id='LC11'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">timer-stocks</span>&gt;</span></div><div class='line js-file-line' id='LC12'><span class="pl-k"><span class="pl-k">#include</span> &lt;<span class="pl-k">timer-config_loader.sp</span>&gt;</span></div><div class='line js-file-line' id='LC13'><br></div><div class='line js-file-line' id='LC14'>new <span class="pl-k">Handle</span><span class="pl-k">:</span>g_hRecords<span class="pl-k">;</span></div><div class='line js-file-line' id='LC15'>new <span class="pl-k">Handle</span><span class="pl-k">:</span>hData <span class="pl-k">=</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC16'><br></div><div class='line js-file-line' id='LC17'>new g_iPlayerRecords<span class="pl-k">[</span><span class="pl-c1">MAXPLAYERS</span><span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">{-</span><span class="pl-c1">1</span><span class="pl-k">,...};</span></div><div class='line js-file-line' id='LC18'>new g_iRecordedTicks<span class="pl-k">[</span><span class="pl-c1">MAXPLAYERS</span><span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">{</span><span class="pl-c1">0</span><span class="pl-k">,...};</span></div><div class='line js-file-line' id='LC19'>new g_iRecordPreviousWeapon<span class="pl-k">[</span><span class="pl-c1">MAXPLAYERS</span><span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">{-</span><span class="pl-c1">1</span><span class="pl-k">,...};</span></div><div class='line js-file-line' id='LC20'><br></div><div class='line js-file-line' id='LC21'>new g_iNextBotMimicsThis <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC22'><br></div><div class='line js-file-line' id='LC23'>new g_iBotMimicsRecord<span class="pl-k">[</span><span class="pl-c1">MAXPLAYERS</span><span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">{-</span><span class="pl-c1">1</span><span class="pl-k">,...};</span></div><div class='line js-file-line' id='LC24'>new g_iBotMimicTick<span class="pl-k">[</span><span class="pl-c1">MAXPLAYERS</span><span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">{-</span><span class="pl-c1">1</span><span class="pl-k">,...};</span></div><div class='line js-file-line' id='LC25'><br></div><div class='line js-file-line' id='LC26'>public <span class="pl-k">Plugin</span><span class="pl-k">:</span>myinfo <span class="pl-k">=</span> </div><div class='line js-file-line' id='LC27'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC28'>	name 		<span class="pl-k">=</span> <span class="pl-s">&quot;[Timer] Reply Bot&quot;</span><span class="pl-k">,</span></div><div class='line js-file-line' id='LC29'>	author 		<span class="pl-k">=</span> <span class="pl-s">&quot;Zipcore, Jason Bourne&quot;</span><span class="pl-k">,</span></div><div class='line js-file-line' id='LC30'>	description <span class="pl-k">=</span> <span class="pl-s">&quot;[Timer] Replay BOT (alpha)&quot;</span><span class="pl-k">,</span></div><div class='line js-file-line' id='LC31'>	version 	<span class="pl-k">=</span> PL_VERSION<span class="pl-k">,</span></div><div class='line js-file-line' id='LC32'>	url 		<span class="pl-k">=</span> <span class="pl-s">&quot;forums.alliedmods.net/showthread.php?p=2074699&quot;</span></div><div class='line js-file-line' id='LC33'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC34'><br></div><div class='line js-file-line' id='LC35'>public <span class="pl-c1">OnPluginStart</span><span class="pl-k">()</span></div><div class='line js-file-line' id='LC36'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC37'>	g_hRecords <span class="pl-k">=</span> <span class="pl-c1">CreateArray</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC38'>	<span class="pl-c1">HookEvent</span><span class="pl-k">(</span><span class="pl-s">&quot;player_spawn&quot;</span><span class="pl-k">,</span> Event_OnPlayerSpawn<span class="pl-k">);</span></div><div class='line js-file-line' id='LC39'>	<span class="pl-c1">HookEvent</span><span class="pl-k">(</span><span class="pl-s">&quot;player_death&quot;</span><span class="pl-k">,</span> Event_OnPlayerDeath<span class="pl-k">);</span></div><div class='line js-file-line' id='LC40'>	<span class="pl-c1">LoadPhysics</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC41'>	<span class="pl-c1">LoadTimerSettings</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC42'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC43'><br></div><div class='line js-file-line' id='LC44'>public <span class="pl-c1">OnMapStart</span><span class="pl-k">()</span></div><div class='line js-file-line' id='LC45'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC46'>	<span class="pl-c">// Clear record array</span></div><div class='line js-file-line' id='LC47'>	new iSize <span class="pl-k">=</span> <span class="pl-c1">GetArraySize</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">);</span></div><div class='line js-file-line' id='LC48'><br></div><div class='line js-file-line' id='LC49'>	for<span class="pl-k">(</span>new i<span class="pl-k">=</span><span class="pl-c1">0</span><span class="pl-k">;</span>i<span class="pl-k">&lt;</span>iSize<span class="pl-k">;</span>i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC50'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC51'>		<span class="pl-c1">CloseHandle</span><span class="pl-k">(</span><span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">,</span> i<span class="pl-k">));</span></div><div class='line js-file-line' id='LC52'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC53'><br></div><div class='line js-file-line' id='LC54'>	<span class="pl-c1">ClearArray</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">);</span></div><div class='line js-file-line' id='LC55'><br></div><div class='line js-file-line' id='LC56'>	<span class="pl-c1">ServerCommand</span><span class="pl-k">(</span><span class="pl-s">&quot;bot_quota 0&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC57'>	<span class="pl-c1">LoadReplays</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC58'>	<span class="pl-c1">LoadPhysics</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC59'>	<span class="pl-c1">LoadTimerSettings</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC60'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC61'><br></div><div class='line js-file-line' id='LC62'>public <span class="pl-k">bool</span><span class="pl-k">:</span><span class="pl-c1">OnClientConnect</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-k">String</span><span class="pl-k">:</span>rejectmsg<span class="pl-k">[],</span> maxlen<span class="pl-k">)</span></div><div class='line js-file-line' id='LC63'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC64'>	if<span class="pl-k">(</span><span class="pl-c1">IsFakeClient</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> g_iNextBotMimicsThis <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC65'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC66'>		g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC67'>		g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC68'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC69'><br></div><div class='line js-file-line' id='LC70'>	return <span class="pl-k">true</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC71'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC72'><br></div><div class='line js-file-line' id='LC73'>public <span class="pl-c1">OnClientPutInServer</span><span class="pl-k">(</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC74'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC75'>	if<span class="pl-k">(</span>g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC76'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC77'>		<span class="pl-c1">CreateTimer</span><span class="pl-k">(</span><span class="pl-c1">1.0</span><span class="pl-k">,</span> Timer_DelayedRespawn<span class="pl-k">,</span> <span class="pl-c1">GetClientUserId</span><span class="pl-k">(</span>client<span class="pl-k">),</span> <span class="pl-c1">TIMER_FLAG_NO_MAPCHANGE</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC78'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC79'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC80'><br></div><div class='line js-file-line' id='LC81'>public <span class="pl-c1">OnClientDisconnect</span><span class="pl-k">(</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC82'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC83'>	<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC84'>	g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC85'>	g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC86'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC87'><br></div><div class='line js-file-line' id='LC88'>public <span class="pl-c1">OnClientStartTouchZoneType</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-k">MapZoneType</span><span class="pl-k">:</span>type<span class="pl-k">)</span></div><div class='line js-file-line' id='LC89'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC90'>	if<span class="pl-k">(</span>client <span class="pl-k">!=</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC91'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC92'>		if <span class="pl-k">(</span>type <span class="pl-k">==</span> ZtStart<span class="pl-k">)</span></div><div class='line js-file-line' id='LC93'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC94'>			<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC95'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC96'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC97'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC98'><br></div><div class='line js-file-line' id='LC99'>public <span class="pl-c1">OnClientEndTouchZoneType</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-k">MapZoneType</span><span class="pl-k">:</span>type<span class="pl-k">)</span></div><div class='line js-file-line' id='LC100'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC101'>	if<span class="pl-k">(</span>client <span class="pl-k">!=</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC102'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC103'>		if <span class="pl-k">(</span>type <span class="pl-k">==</span> ZtStart <span class="pl-k">&amp;&amp;</span> g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">&amp;&amp;</span> g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC104'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC105'>			<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC106'><br></div><div class='line js-file-line' id='LC107'>			new <span class="pl-k">Handle</span><span class="pl-k">:</span>xData <span class="pl-k">=</span> <span class="pl-c1">CreateArray</span><span class="pl-k">(</span><span class="pl-c1">ByteCountToCells</span><span class="pl-k">(</span><span class="pl-c1">15</span><span class="pl-k">));</span></div><div class='line js-file-line' id='LC108'>			g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">,</span> xData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC109'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC110'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC111'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC112'><br></div><div class='line js-file-line' id='LC113'>public <span class="pl-c1">OnTimerWorldRecord</span><span class="pl-k">(</span>client<span class="pl-k">,</span> bonus<span class="pl-k">,</span> mode<span class="pl-k">,</span> <span class="pl-k">Float</span><span class="pl-k">:</span>time<span class="pl-k">,</span> <span class="pl-k">Float</span><span class="pl-k">:</span>lasttime<span class="pl-k">,</span> currentrank<span class="pl-k">,</span> newrank<span class="pl-k">)</span></div><div class='line js-file-line' id='LC114'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC115'>	if<span class="pl-k">(</span>client <span class="pl-k">!=</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC116'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC117'>		if <span class="pl-k">(</span>mode <span class="pl-k">==</span> g_ModeDefault <span class="pl-k">&amp;&amp;</span> bonus <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC118'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC119'>			<span class="pl-c1">CreateTimer</span><span class="pl-k">(</span><span class="pl-c1">0.0</span><span class="pl-k">,</span> SaveRecording<span class="pl-k">,</span> client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC120'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC121'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC122'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC123'><br></div><div class='line js-file-line' id='LC124'>public <span class="pl-k">Action</span><span class="pl-k">:</span><span class="pl-c1">OnPlayerRunCmd</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-k">&amp;</span>buttons<span class="pl-k">,</span> <span class="pl-k">&amp;</span>impulse<span class="pl-k">,</span> <span class="pl-k">Float</span><span class="pl-k">:</span>vel<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">],</span> <span class="pl-k">Float</span><span class="pl-k">:</span>angles<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">],</span> <span class="pl-k">&amp;</span>weapon<span class="pl-k">,</span> <span class="pl-k">&amp;</span>subtype<span class="pl-k">,</span> <span class="pl-k">&amp;</span>cmdnum<span class="pl-k">,</span> <span class="pl-k">&amp;</span>tickcount<span class="pl-k">,</span> <span class="pl-k">&amp;</span>seed<span class="pl-k">,</span> mouse<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">])</span></div><div class='line js-file-line' id='LC125'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC126'>	<span class="pl-c">// He&#39;s recording his movements!</span></div><div class='line js-file-line' id='LC127'>	if<span class="pl-k">(</span>g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC128'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC129'>		if<span class="pl-k">(!</span><span class="pl-c1">IsPlayerAlive</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">||</span> <span class="pl-c1">GetClientTeam</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&lt;</span> <span class="pl-c1">CS_TEAM_T</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC130'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC131'>			<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC132'>			<span class="pl-c1">Timer_LogError</span><span class="pl-k">(</span><span class="pl-s">&quot;Replay stopped something went wrong.&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC133'>			return <span class="pl-c1">Plugin_Continue</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC134'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC135'><br></div><div class='line js-file-line' id='LC136'>		new <span class="pl-k">Handle</span><span class="pl-k">:</span>xData <span class="pl-k">=</span> <span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">,</span> g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]);</span></div><div class='line js-file-line' id='LC137'>		<span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> buttons<span class="pl-k">);</span></div><div class='line js-file-line' id='LC138'>		<span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> impulse<span class="pl-k">);</span></div><div class='line js-file-line' id='LC139'>		new <span class="pl-k">Float</span><span class="pl-k">:</span>fVel<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC140'>		fVel<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">GetEntPropFloat</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_vecVelocity[0]&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC141'>		fVel<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">GetEntPropFloat</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_vecVelocity[1]&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC142'>		fVel<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">GetEntPropFloat</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_vecVelocity[2]&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC143'>		<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> fVel<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC144'>		<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> vel<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC145'>		<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> angles<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC146'><br></div><div class='line js-file-line' id='LC147'>		<span class="pl-c">// Did he change his weapon?</span></div><div class='line js-file-line' id='LC148'>		if<span class="pl-k">(</span>weapon<span class="pl-k">)</span></div><div class='line js-file-line' id='LC149'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC150'>			<span class="pl-c">// Save it</span></div><div class='line js-file-line' id='LC151'>			if<span class="pl-k">(</span><span class="pl-c1">IsValidEntity</span><span class="pl-k">(</span>weapon<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEdict</span><span class="pl-k">(</span>weapon<span class="pl-k">))</span></div><div class='line js-file-line' id='LC152'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC153'>				new <span class="pl-k">String</span><span class="pl-k">:</span>sClassName<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC154'>				<span class="pl-c1">GetEdictClassname</span><span class="pl-k">(</span>weapon<span class="pl-k">,</span> sClassName<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sClassName<span class="pl-k">));</span></div><div class='line js-file-line' id='LC155'>				<span class="pl-c1">PushArrayString</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> sClassName<span class="pl-k">[</span><span class="pl-c1">7</span><span class="pl-k">]);</span></div><div class='line js-file-line' id='LC156'>				g_iRecordPreviousWeapon<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> weapon<span class="pl-k">;</span></div><div class='line js-file-line' id='LC157'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC158'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC159'>		else</div><div class='line js-file-line' id='LC160'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC161'>			decl <span class="pl-k">String</span><span class="pl-k">:</span>sClassName<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC162'>			new iWeapon <span class="pl-k">=</span> <span class="pl-c1">GetEntPropEnt</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_hActiveWeapon&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC163'><br></div><div class='line js-file-line' id='LC164'>			<span class="pl-c">// Save the weapon he started recording with or just picked up forcefully.</span></div><div class='line js-file-line' id='LC165'>			if<span class="pl-k">((</span>g_iRecordedTicks<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-c1">0</span> <span class="pl-k">||</span> g_iRecordPreviousWeapon<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> iWeapon<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> iWeapon <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEdict</span><span class="pl-k">(</span>iWeapon<span class="pl-k">))</span></div><div class='line js-file-line' id='LC166'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC167'>				<span class="pl-c1">GetEdictClassname</span><span class="pl-k">(</span>iWeapon<span class="pl-k">,</span> sClassName<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sClassName<span class="pl-k">));</span></div><div class='line js-file-line' id='LC168'>				<span class="pl-c1">PushArrayString</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> sClassName<span class="pl-k">[</span><span class="pl-c1">7</span><span class="pl-k">]);</span></div><div class='line js-file-line' id='LC169'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC170'>			else</div><div class='line js-file-line' id='LC171'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC172'>				<span class="pl-c1">PushArrayString</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> <span class="pl-s">&quot;\0&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC173'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC174'><br></div><div class='line js-file-line' id='LC175'>			g_iRecordPreviousWeapon<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> iWeapon<span class="pl-k">;</span></div><div class='line js-file-line' id='LC176'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC177'><br></div><div class='line js-file-line' id='LC178'>		<span class="pl-c">// Save the current client position intitially in the first frame once</span></div><div class='line js-file-line' id='LC179'>		if<span class="pl-k">(</span>g_iRecordedTicks<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC180'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC181'>			new <span class="pl-k">Float</span><span class="pl-k">:</span>fOrigin<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC182'>			<span class="pl-c1">GetClientAbsOrigin</span><span class="pl-k">(</span>client<span class="pl-k">,</span> fOrigin<span class="pl-k">);</span></div><div class='line js-file-line' id='LC183'>			<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> fOrigin<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC184'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC185'><br></div><div class='line js-file-line' id='LC186'>		g_iRecordedTicks<span class="pl-k">[</span>client<span class="pl-k">]++;</span></div><div class='line js-file-line' id='LC187'><br></div><div class='line js-file-line' id='LC188'>		return <span class="pl-c1">Plugin_Continue</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC189'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC190'>	<span class="pl-c">// This bot is playing a record</span></div><div class='line js-file-line' id='LC191'>	else if<span class="pl-k">(</span>g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC192'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC193'>		if<span class="pl-k">(!</span><span class="pl-c1">IsFakeClient</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">||</span> <span class="pl-k">!</span><span class="pl-c1">IsPlayerAlive</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">||</span> <span class="pl-c1">GetClientTeam</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&lt;</span> <span class="pl-c1">CS_TEAM_T</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC194'>			return <span class="pl-c1">Plugin_Continue</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC195'><br></div><div class='line js-file-line' id='LC196'>		new iIndex <span class="pl-k">=</span> g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> * <span class="pl-c1">6</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC197'>		if<span class="pl-k">(</span>g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC198'>			iIndex<span class="pl-k">++;</span></div><div class='line js-file-line' id='LC199'><br></div><div class='line js-file-line' id='LC200'>		buttons <span class="pl-k">=</span> <span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> iIndex<span class="pl-k">);</span></div><div class='line js-file-line' id='LC201'>		impulse <span class="pl-k">=</span> <span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-k">++</span>iIndex<span class="pl-k">);</span></div><div class='line js-file-line' id='LC202'>		new <span class="pl-k">Float</span><span class="pl-k">:</span>fVel<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC203'>		<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-k">++</span>iIndex<span class="pl-k">,</span> fVel<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC204'>		<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-k">++</span>iIndex<span class="pl-k">,</span> vel<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC205'>		<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-k">++</span>iIndex<span class="pl-k">,</span> angles<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC206'><br></div><div class='line js-file-line' id='LC207'>		<span class="pl-c">// This is the first frame - teleport him to the correct position</span></div><div class='line js-file-line' id='LC208'>		if<span class="pl-k">(</span>g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC209'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC210'><br></div><div class='line js-file-line' id='LC211'>			new <span class="pl-k">String</span><span class="pl-k">:</span>name<span class="pl-k">[</span><span class="pl-c1">128</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC212'>			<span class="pl-c1">Timer_GetRecordHolderName</span><span class="pl-k">(</span>g_ModeDefault<span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> <span class="pl-c1">1</span><span class="pl-k">,</span> name<span class="pl-k">,</span> <span class="pl-c1">128</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC213'><br></div><div class='line js-file-line' id='LC214'>			new cacheid<span class="pl-k">,</span> total<span class="pl-k">;</span></div><div class='line js-file-line' id='LC215'>			new <span class="pl-k">Float</span><span class="pl-k">:</span>time<span class="pl-k">;</span></div><div class='line js-file-line' id='LC216'>			new <span class="pl-k">String</span><span class="pl-k">:</span>timestring<span class="pl-k">[</span><span class="pl-c1">32</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC217'><br></div><div class='line js-file-line' id='LC218'>			<span class="pl-c1">Timer_GetDifficultyRecordTime</span><span class="pl-k">(</span>g_ModeDefault<span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> cacheid<span class="pl-k">,</span> time<span class="pl-k">,</span> total<span class="pl-k">);</span></div><div class='line js-file-line' id='LC219'>			<span class="pl-c1">Timer_SecondsToTime</span><span class="pl-k">(</span>time<span class="pl-k">,</span> timestring<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>timestring<span class="pl-k">),</span> <span class="pl-c1">2</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC220'><br></div><div class='line js-file-line' id='LC221'>			new <span class="pl-k">String</span><span class="pl-k">:</span>buffer<span class="pl-k">[</span><span class="pl-c1">128</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC222'>			<span class="pl-c1">Format</span><span class="pl-k">(</span>buffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>buffer<span class="pl-k">),</span> <span class="pl-s">&quot;%s [%s]&quot;</span><span class="pl-k">,</span> name<span class="pl-k">,</span> timestring<span class="pl-k">);</span></div><div class='line js-file-line' id='LC223'><br></div><div class='line js-file-line' id='LC224'>			<span class="pl-c1">CS_SetClientName</span><span class="pl-k">(</span>client<span class="pl-k">,</span> buffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC225'><br></div><div class='line js-file-line' id='LC226'>			<span class="pl-c1">Timer_Start</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC227'>			new <span class="pl-k">Float</span><span class="pl-k">:</span>fOrigin<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC228'>			<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> iIndex<span class="pl-k">+</span><span class="pl-c1">2</span><span class="pl-k">,</span> fOrigin<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC229'>			<span class="pl-c1">TeleportEntity</span><span class="pl-k">(</span>client<span class="pl-k">,</span> fOrigin<span class="pl-k">,</span> angles<span class="pl-k">,</span> fVel<span class="pl-k">);</span></div><div class='line js-file-line' id='LC230'><br></div><div class='line js-file-line' id='LC231'>			<span class="pl-c">// Strip all weapons</span></div><div class='line js-file-line' id='LC232'>			new iWeapon <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC233'>			for<span class="pl-k">(</span>new i<span class="pl-k">=</span><span class="pl-c1">CS_SLOT_PRIMARY</span><span class="pl-k">;</span>i<span class="pl-k">&lt;=</span><span class="pl-c1">CS_SLOT_C4</span><span class="pl-k">;</span>i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC234'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC235'>				iWeapon <span class="pl-k">=</span> <span class="pl-c1">GetPlayerWeaponSlot</span><span class="pl-k">(</span>client<span class="pl-k">,</span> i<span class="pl-k">);</span></div><div class='line js-file-line' id='LC236'>				if<span class="pl-k">(</span>iWeapon <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span> </div><div class='line js-file-line' id='LC237'>				<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEntity</span><span class="pl-k">(</span>iWeapon<span class="pl-k">)</span> </div><div class='line js-file-line' id='LC238'>				<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEdict</span><span class="pl-k">(</span>iWeapon<span class="pl-k">))</span></div><div class='line js-file-line' id='LC239'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC240'>					<span class="pl-c1">AcceptEntityInput</span><span class="pl-k">(</span>iWeapon<span class="pl-k">,</span> <span class="pl-s">&quot;Kill&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC241'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC242'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC243'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC244'>		else</div><div class='line js-file-line' id='LC245'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC246'>			<span class="pl-c1">TeleportEntity</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">NULL_VECTOR</span><span class="pl-k">,</span> angles<span class="pl-k">,</span> fVel<span class="pl-k">);</span></div><div class='line js-file-line' id='LC247'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC248'><br></div><div class='line js-file-line' id='LC249'>		decl <span class="pl-k">String</span><span class="pl-k">:</span>sWeapon<span class="pl-k">[</span><span class="pl-c1">32</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC250'>		<span class="pl-c1">GetArrayString</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-k">++</span>iIndex<span class="pl-k">,</span> sWeapon<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sWeapon<span class="pl-k">));</span></div><div class='line js-file-line' id='LC251'>		if<span class="pl-k">(</span><span class="pl-c1">strlen</span><span class="pl-k">(</span>sWeapon<span class="pl-k">)</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC252'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC253'>			<span class="pl-c">// Check if he already got that weapon</span></div><div class='line js-file-line' id='LC254'>			new iWeapon<span class="pl-k">,</span> <span class="pl-k">bool</span><span class="pl-k">:</span>bGotWeapon <span class="pl-k">=</span> <span class="pl-k">false</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC255'>			if<span class="pl-k">(</span>g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC256'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC257'>				decl <span class="pl-k">String</span><span class="pl-k">:</span>sClassName<span class="pl-k">[</span><span class="pl-c1">32</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC258'>				for<span class="pl-k">(</span>new i<span class="pl-k">=</span><span class="pl-c1">CS_SLOT_PRIMARY</span><span class="pl-k">;</span>i<span class="pl-k">&lt;=</span><span class="pl-c1">CS_SLOT_C4</span><span class="pl-k">;</span>i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC259'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC260'>					iWeapon <span class="pl-k">=</span> <span class="pl-c1">GetPlayerWeaponSlot</span><span class="pl-k">(</span>client<span class="pl-k">,</span> i<span class="pl-k">);</span></div><div class='line js-file-line' id='LC261'>					if<span class="pl-k">(</span>iWeapon <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span></div><div class='line js-file-line' id='LC262'>					<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEntity</span><span class="pl-k">(</span>iWeapon<span class="pl-k">)</span> </div><div class='line js-file-line' id='LC263'>					<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEdict</span><span class="pl-k">(</span>iWeapon<span class="pl-k">)</span></div><div class='line js-file-line' id='LC264'>					<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">GetEdictClassname</span><span class="pl-k">(</span>iWeapon<span class="pl-k">,</span> sClassName<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sClassName<span class="pl-k">))</span></div><div class='line js-file-line' id='LC265'>					<span class="pl-k">&amp;&amp;</span> <span class="pl-c1">StrContains</span><span class="pl-k">(</span>sClassName<span class="pl-k">,</span> sWeapon<span class="pl-k">,</span> <span class="pl-k">false</span><span class="pl-k">)</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC266'>					<span class="pl-k">{</span></div><div class='line js-file-line' id='LC267'>						bGotWeapon <span class="pl-k">=</span> <span class="pl-k">true</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC268'>						<span class="pl-c">// Switch to this weapon!</span></div><div class='line js-file-line' id='LC269'>						<span class="pl-c1">FakeClientCommand</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-s">&quot;use %s&quot;</span><span class="pl-k">,</span> sClassName<span class="pl-k">);</span></div><div class='line js-file-line' id='LC270'>						<span class="pl-c1">SetEntPropEnt</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_hActiveWeapon&quot;</span><span class="pl-k">,</span> iWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC271'>						weapon <span class="pl-k">=</span> iWeapon<span class="pl-k">;</span></div><div class='line js-file-line' id='LC272'>						break<span class="pl-k">;</span></div><div class='line js-file-line' id='LC273'>					<span class="pl-k">}</span></div><div class='line js-file-line' id='LC274'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC275'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC276'><br></div><div class='line js-file-line' id='LC277'>			<span class="pl-c">// He doesn&#39;t have this one yet. Give it to him!</span></div><div class='line js-file-line' id='LC278'>			if<span class="pl-k">(!</span>bGotWeapon<span class="pl-k">)</span></div><div class='line js-file-line' id='LC279'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC280'>				<span class="pl-c1">Format</span><span class="pl-k">(</span>sWeapon<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sWeapon<span class="pl-k">),</span> <span class="pl-s">&quot;weapon_%s&quot;</span><span class="pl-k">,</span> sWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC281'>				iWeapon <span class="pl-k">=</span> <span class="pl-c1">GivePlayerItem</span><span class="pl-k">(</span>client<span class="pl-k">,</span> sWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC282'>				if<span class="pl-k">(</span>iWeapon <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsValidEdict</span><span class="pl-k">(</span>iWeapon<span class="pl-k">))</span></div><div class='line js-file-line' id='LC283'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC284'>					if<span class="pl-k">(!</span><span class="pl-c1">StrEqual</span><span class="pl-k">(</span>sWeapon<span class="pl-k">,</span> <span class="pl-s">&quot;weapon_hegrenade&quot;</span><span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span><span class="pl-c1">StrEqual</span><span class="pl-k">(</span>sWeapon<span class="pl-k">,</span> <span class="pl-s">&quot;weapon_flashbang&quot;</span><span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span><span class="pl-c1">StrEqual</span><span class="pl-k">(</span>sWeapon<span class="pl-k">,</span> <span class="pl-s">&quot;weapon_smokegrenade&quot;</span><span class="pl-k">))</span></div><div class='line js-file-line' id='LC285'>						<span class="pl-c1">EquipPlayerWeapon</span><span class="pl-k">(</span>client<span class="pl-k">,</span> iWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC286'>					weapon <span class="pl-k">=</span> iWeapon<span class="pl-k">;</span></div><div class='line js-file-line' id='LC287'>					<span class="pl-c1">FakeClientCommand</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-s">&quot;use %s&quot;</span><span class="pl-k">,</span> sWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC288'>					<span class="pl-c1">SetEntPropEnt</span><span class="pl-k">(</span>client<span class="pl-k">,</span> <span class="pl-c1">Prop_Send</span><span class="pl-k">,</span> <span class="pl-s">&quot;m_hActiveWeapon&quot;</span><span class="pl-k">,</span> iWeapon<span class="pl-k">);</span></div><div class='line js-file-line' id='LC289'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC290'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC291'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC292'><br></div><div class='line js-file-line' id='LC293'>		g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]++;</span></div><div class='line js-file-line' id='LC294'>		<span class="pl-c">// Loop the record. Each tick has 6 values in the array + the position in the first frame!</span></div><div class='line js-file-line' id='LC295'>		if<span class="pl-k">((</span>g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> * <span class="pl-c1">6</span> <span class="pl-k">+</span> <span class="pl-c1">1</span><span class="pl-k">)</span> <span class="pl-k">&gt;=</span> <span class="pl-c1">GetArraySize</span><span class="pl-k">(</span>hData<span class="pl-k">))</span></div><div class='line js-file-line' id='LC296'>			g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC297'><br></div><div class='line js-file-line' id='LC298'>		return <span class="pl-c1">Plugin_Changed</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC299'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC300'>	else if<span class="pl-k">(</span><span class="pl-c1">Timer_IsPlayerTouchingZoneType</span><span class="pl-k">(</span>client<span class="pl-k">,</span> ZtStart<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">bool</span><span class="pl-k">:(</span><span class="pl-c1">GetEntityFlags</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&amp;</span> <span class="pl-c1">FL_ONGROUND</span><span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> buttons <span class="pl-k">&amp;</span> <span class="pl-c1">IN_JUMP</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC301'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC302'>		if<span class="pl-k">(!</span><span class="pl-c1">IsPlayerAlive</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">||</span> <span class="pl-c1">GetClientTeam</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&lt;</span> <span class="pl-c1">CS_TEAM_T</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC303'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC304'>			<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC305'>			<span class="pl-c1">Timer_LogError</span><span class="pl-k">(</span><span class="pl-s">&quot;Replay stopped something went wrong.&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC306'>			return <span class="pl-c1">Plugin_Continue</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC307'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC308'><br></div><div class='line js-file-line' id='LC309'>		<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC310'><br></div><div class='line js-file-line' id='LC311'>		new <span class="pl-k">Handle</span><span class="pl-k">:</span>xData <span class="pl-k">=</span> <span class="pl-c1">CreateArray</span><span class="pl-k">(</span><span class="pl-c1">ByteCountToCells</span><span class="pl-k">(</span><span class="pl-c1">15</span><span class="pl-k">));</span></div><div class='line js-file-line' id='LC312'>		g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">,</span> xData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC313'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC314'><br></div><div class='line js-file-line' id='LC315'>	return <span class="pl-c1">Plugin_Continue</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC316'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC317'><br></div><div class='line js-file-line' id='LC318'>public <span class="pl-c1">Event_OnPlayerSpawn</span><span class="pl-k">(</span><span class="pl-k">Handle</span><span class="pl-k">:</span>event<span class="pl-k">,</span> const <span class="pl-k">String</span><span class="pl-k">:</span>name<span class="pl-k">[],</span> <span class="pl-k">bool</span><span class="pl-k">:</span>dontBroadcast<span class="pl-k">)</span></div><div class='line js-file-line' id='LC319'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC320'>	new client <span class="pl-k">=</span> <span class="pl-c1">GetClientOfUserId</span><span class="pl-k">(</span><span class="pl-c1">GetEventInt</span><span class="pl-k">(</span>event<span class="pl-k">,</span> <span class="pl-s">&quot;userid&quot;</span><span class="pl-k">));</span></div><div class='line js-file-line' id='LC321'>	if<span class="pl-k">(!</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC322'>		return<span class="pl-k">;</span></div><div class='line js-file-line' id='LC323'><br></div><div class='line js-file-line' id='LC324'>	if<span class="pl-k">(</span>g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC325'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC326'>		g_iBotMimicTick<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC327'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC328'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC329'><br></div><div class='line js-file-line' id='LC330'>public <span class="pl-c1">Event_OnPlayerDeath</span><span class="pl-k">(</span><span class="pl-k">Handle</span><span class="pl-k">:</span>event<span class="pl-k">,</span> const <span class="pl-k">String</span><span class="pl-k">:</span>name<span class="pl-k">[],</span> <span class="pl-k">bool</span><span class="pl-k">:</span>dontBroadcast<span class="pl-k">)</span></div><div class='line js-file-line' id='LC331'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC332'>	new client <span class="pl-k">=</span> <span class="pl-c1">GetClientOfUserId</span><span class="pl-k">(</span><span class="pl-c1">GetEventInt</span><span class="pl-k">(</span>event<span class="pl-k">,</span> <span class="pl-s">&quot;userid&quot;</span><span class="pl-k">));</span></div><div class='line js-file-line' id='LC333'>	if<span class="pl-k">(!</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC334'>		return<span class="pl-k">;</span></div><div class='line js-file-line' id='LC335'><br></div><div class='line js-file-line' id='LC336'>	<span class="pl-c">// This one has been recording currently</span></div><div class='line js-file-line' id='LC337'>	if<span class="pl-k">(</span>g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC338'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC339'>		<span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC340'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC341'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC342'><br></div><div class='line js-file-line' id='LC343'>public <span class="pl-k">Action</span><span class="pl-k">:</span><span class="pl-c1">Timer_DelayedRespawn</span><span class="pl-k">(</span><span class="pl-k">Handle</span><span class="pl-k">:</span>timer<span class="pl-k">,</span> <span class="pl-k">any</span><span class="pl-k">:</span>userid<span class="pl-k">)</span></div><div class='line js-file-line' id='LC344'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC345'>	new client <span class="pl-k">=</span> <span class="pl-c1">GetClientOfUserId</span><span class="pl-k">(</span>userid<span class="pl-k">);</span></div><div class='line js-file-line' id='LC346'>	if<span class="pl-k">(!</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC347'>		return <span class="pl-c1">Plugin_Stop</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC348'><br></div><div class='line js-file-line' id='LC349'>	if<span class="pl-k">(</span>g_iBotMimicsRecord<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsClientInGame</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span><span class="pl-c1">IsPlayerAlive</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">IsFakeClient</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">GetClientTeam</span><span class="pl-k">(</span>client<span class="pl-k">)</span> <span class="pl-k">&gt;=</span> <span class="pl-c1">CS_TEAM_T</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC350'>		<span class="pl-c1">CS_RespawnPlayer</span><span class="pl-k">(</span>client<span class="pl-k">);</span></div><div class='line js-file-line' id='LC351'><br></div><div class='line js-file-line' id='LC352'>	return <span class="pl-c1">Plugin_Stop</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC353'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC354'><br></div><div class='line js-file-line' id='LC355'>public <span class="pl-k">Action</span><span class="pl-k">:</span><span class="pl-c1">SaveRecording</span><span class="pl-k">(</span><span class="pl-k">Handle</span><span class="pl-k">:</span>timer<span class="pl-k">,</span> <span class="pl-k">any</span><span class="pl-k">:</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC356'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC357'>	if<span class="pl-k">(</span>g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC358'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC359'>		new <span class="pl-k">Handle</span><span class="pl-k">:</span>xData <span class="pl-k">=</span> <span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>g_hRecords<span class="pl-k">,</span> g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]);</span></div><div class='line js-file-line' id='LC360'>		new iSize <span class="pl-k">=</span> <span class="pl-c1">GetArraySize</span><span class="pl-k">(</span>xData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC361'><br></div><div class='line js-file-line' id='LC362'>		decl <span class="pl-k">String</span><span class="pl-k">:</span>sMapName<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC363'>		<span class="pl-c1">GetCurrentMap</span><span class="pl-k">(</span>sMapName<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sMapName<span class="pl-k">));</span></div><div class='line js-file-line' id='LC364'>		decl <span class="pl-k">String</span><span class="pl-k">:</span>sPath<span class="pl-k">[</span><span class="pl-c1">PLATFORM_MAX_PATH</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC365'><br></div><div class='line js-file-line' id='LC366'>		<span class="pl-c">// Stop recording</span></div><div class='line js-file-line' id='LC367'>		g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC368'>		g_iRecordedTicks<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC369'><br></div><div class='line js-file-line' id='LC370'>		<span class="pl-c">// Save to file</span></div><div class='line js-file-line' id='LC371'>		new <span class="pl-k">String</span><span class="pl-k">:</span>sData<span class="pl-k">[</span><span class="pl-c1">512</span><span class="pl-k">],</span> <span class="pl-k">String</span><span class="pl-k">:</span>sBuffer<span class="pl-k">[</span><span class="pl-c1">15</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC372'>		new <span class="pl-k">Handle</span><span class="pl-k">:</span>hFile<span class="pl-k">;</span></div><div class='line js-file-line' id='LC373'>		new <span class="pl-k">Float</span><span class="pl-k">:</span>fBuffer<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC374'><br></div><div class='line js-file-line' id='LC375'>		<span class="pl-c1">BuildPath</span><span class="pl-k">(</span><span class="pl-c1">Path_SM</span><span class="pl-k">,</span> sPath<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sPath<span class="pl-k">),</span> <span class="pl-s">&quot;data/replay/%s.txt&quot;</span><span class="pl-k">,</span> sMapName<span class="pl-k">);</span></div><div class='line js-file-line' id='LC376'><br></div><div class='line js-file-line' id='LC377'>		hFile <span class="pl-k">=</span> <span class="pl-c1">OpenFile</span><span class="pl-k">(</span>sPath<span class="pl-k">,</span> <span class="pl-s">&quot;w&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC378'>		if<span class="pl-k">(</span>hFile <span class="pl-k">==</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC379'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC380'>			<span class="pl-c1">Timer_LogError</span><span class="pl-k">(</span><span class="pl-s">&quot;[Replay] cant open file (%s) for recording.&quot;</span><span class="pl-k">,</span>sPath<span class="pl-k">);</span></div><div class='line js-file-line' id='LC381'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC382'><br></div><div class='line js-file-line' id='LC383'>		<span class="pl-c">// We always have 6 values each frame:</span></div><div class='line js-file-line' id='LC384'>		<span class="pl-c">// 0: buttons</span></div><div class='line js-file-line' id='LC385'>		<span class="pl-c">// 1: impulse</span></div><div class='line js-file-line' id='LC386'>		<span class="pl-c">// 2: real velocity vector</span></div><div class='line js-file-line' id='LC387'>		<span class="pl-c">// 3: fictional velocity vector</span></div><div class='line js-file-line' id='LC388'>		<span class="pl-c">// 4: eye angles</span></div><div class='line js-file-line' id='LC389'>		<span class="pl-c">// 5: weapon name</span></div><div class='line js-file-line' id='LC390'>		<span class="pl-c">// They are repeated all over again to save handles (imagine we&#39;d create an own adt_array for each frame O_o)</span></div><div class='line js-file-line' id='LC391'>		new iState <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC392'>		for<span class="pl-k">(</span>new i<span class="pl-k">=</span><span class="pl-c1">0</span><span class="pl-k">;</span>i<span class="pl-k">&lt;</span>iSize<span class="pl-k">;</span>i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC393'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC394'>			<span class="pl-c">// Read the array correctly and add the value to the line</span></div><div class='line js-file-line' id='LC395'>			switch<span class="pl-k">(</span>iState<span class="pl-k">)</span></div><div class='line js-file-line' id='LC396'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC397'>				case <span class="pl-c1">0</span><span class="pl-k">,</span> <span class="pl-k">1</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC398'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC399'>					<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;%s%d|&quot;</span><span class="pl-k">,</span> sData<span class="pl-k">,</span> <span class="pl-c1">GetArrayCell</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> i<span class="pl-k">));</span></div><div class='line js-file-line' id='LC400'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC401'>				case <span class="pl-c1">2</span><span class="pl-k">,</span> <span class="pl-k">3</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC402'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC403'>					<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> i<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC404'>					<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;%s%f|%f|%f|&quot;</span><span class="pl-k">,</span> sData<span class="pl-k">,</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">],</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">],</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]);</span></div><div class='line js-file-line' id='LC405'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC406'>				case <span class="pl-k">4</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC407'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC408'>					<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> i<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC409'>					<span class="pl-c">// ignore roll in angles</span></div><div class='line js-file-line' id='LC410'>					<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;%s%f|%f|&quot;</span><span class="pl-k">,</span> sData<span class="pl-k">,</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">],</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]);</span></div><div class='line js-file-line' id='LC411'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC412'>				case <span class="pl-k">5</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC413'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC414'>					<span class="pl-c1">GetArrayString</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> i<span class="pl-k">,</span> sBuffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sBuffer<span class="pl-k">));</span></div><div class='line js-file-line' id='LC415'>					<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;%s%s|&quot;</span><span class="pl-k">,</span> sData<span class="pl-k">,</span> sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC416'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC417'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC418'><br></div><div class='line js-file-line' id='LC419'>			<span class="pl-c">// The player origin in first frame.</span></div><div class='line js-file-line' id='LC420'>			if<span class="pl-k">(</span>i <span class="pl-k">==</span> <span class="pl-c1">6</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC421'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC422'>				<span class="pl-c1">GetArrayArray</span><span class="pl-k">(</span>xData<span class="pl-k">,</span> i<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC423'>				<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;%s%f|%f|%f|&quot;</span><span class="pl-k">,</span> sData<span class="pl-k">,</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">],</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">],</span> fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]);</span></div><div class='line js-file-line' id='LC424'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC425'><br></div><div class='line js-file-line' id='LC426'>			<span class="pl-c">// Write the line to the file</span></div><div class='line js-file-line' id='LC427'>			iState<span class="pl-k">++;</span></div><div class='line js-file-line' id='LC428'>			if<span class="pl-k">(</span>i <span class="pl-k">&gt;</span> <span class="pl-c1">5</span> <span class="pl-k">&amp;&amp;</span> iState <span class="pl-k">&gt;</span> <span class="pl-c1">5</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC429'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC430'>				<span class="pl-c1">WriteFileLine</span><span class="pl-k">(</span>hFile<span class="pl-k">,</span> sData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC431'>				<span class="pl-c1">Format</span><span class="pl-k">(</span>sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">),</span> <span class="pl-s">&quot;&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC432'>				iState <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC433'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC434'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC435'>		<span class="pl-c1">CloseHandle</span><span class="pl-k">(</span>hFile<span class="pl-k">);</span></div><div class='line js-file-line' id='LC436'><br></div><div class='line js-file-line' id='LC437'>		<span class="pl-c1">LoadReplays</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC438'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC439'><br></div><div class='line js-file-line' id='LC440'>	return <span class="pl-c1">Plugin_Stop</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC441'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC442'><br></div><div class='line js-file-line' id='LC443'><span class="pl-c1">StopRecording</span><span class="pl-k">(</span>client<span class="pl-k">)</span></div><div class='line js-file-line' id='LC444'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC445'>	if<span class="pl-k">(</span>g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">==</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC446'>		return<span class="pl-k">;</span></div><div class='line js-file-line' id='LC447'><br></div><div class='line js-file-line' id='LC448'>	<span class="pl-c">// Stop recording</span></div><div class='line js-file-line' id='LC449'>	g_iPlayerRecords<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC450'>	g_iRecordedTicks<span class="pl-k">[</span>client<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC451'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC452'><br></div><div class='line js-file-line' id='LC453'>public <span class="pl-c1">LoadReplays</span><span class="pl-k">()</span></div><div class='line js-file-line' id='LC454'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC455'>	if <span class="pl-k">(</span>hData <span class="pl-k">!=</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC456'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC457'>		<span class="pl-c1">CloseHandle</span><span class="pl-k">(</span>hData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC458'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC459'><br></div><div class='line js-file-line' id='LC460'>	hData <span class="pl-k">=</span> <span class="pl-c1">CreateArray</span><span class="pl-k">(</span><span class="pl-c1">ByteCountToCells</span><span class="pl-k">(</span><span class="pl-c1">15</span><span class="pl-k">));</span></div><div class='line js-file-line' id='LC461'><br></div><div class='line js-file-line' id='LC462'>	<span class="pl-c">// Load records for this map</span></div><div class='line js-file-line' id='LC463'>	decl <span class="pl-k">String</span><span class="pl-k">:</span>sMapName<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC464'>	<span class="pl-c1">GetCurrentMap</span><span class="pl-k">(</span>sMapName<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sMapName<span class="pl-k">));</span></div><div class='line js-file-line' id='LC465'><br></div><div class='line js-file-line' id='LC466'>	decl <span class="pl-k">String</span><span class="pl-k">:</span>sPath<span class="pl-k">[</span><span class="pl-c1">PLATFORM_MAX_PATH</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC467'><br></div><div class='line js-file-line' id='LC468'>	<span class="pl-c">// Create our record directory</span></div><div class='line js-file-line' id='LC469'>	<span class="pl-c1">BuildPath</span><span class="pl-k">(</span><span class="pl-c1">Path_SM</span><span class="pl-k">,</span> sPath<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sPath<span class="pl-k">),</span> <span class="pl-s">&quot;data/replay&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC470'>	if<span class="pl-k">(!</span><span class="pl-c1">DirExists</span><span class="pl-k">(</span>sPath<span class="pl-k">))</span></div><div class='line js-file-line' id='LC471'>		<span class="pl-c1">CreateDirectory</span><span class="pl-k">(</span>sPath<span class="pl-k">,</span> <span class="pl-c1">511</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC472'><br></div><div class='line js-file-line' id='LC473'>	new <span class="pl-k">Handle</span><span class="pl-k">:</span>hDir <span class="pl-k">=</span> <span class="pl-c1">OpenDirectory</span><span class="pl-k">(</span>sPath<span class="pl-k">);</span></div><div class='line js-file-line' id='LC474'>	if<span class="pl-k">(</span>hDir <span class="pl-k">==</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC475'>		return<span class="pl-k">;</span></div><div class='line js-file-line' id='LC476'><br></div><div class='line js-file-line' id='LC477'>	decl <span class="pl-k">String</span><span class="pl-k">:</span>sData<span class="pl-k">[</span><span class="pl-c1">512</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC478'>	new <span class="pl-k">String</span><span class="pl-k">:</span>sBuffer<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC479'>	new  <span class="pl-k">Handle</span><span class="pl-k">:</span>hFile <span class="pl-k">=</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC480'>	new iLength<span class="pl-k">,</span> iPart<span class="pl-k">,</span> <span class="pl-k">Float</span><span class="pl-k">:</span>fBuffer<span class="pl-k">[</span><span class="pl-c1">3</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC481'><br></div><div class='line js-file-line' id='LC482'>	<span class="pl-c1">BuildPath</span><span class="pl-k">(</span><span class="pl-c1">Path_SM</span><span class="pl-k">,</span> sPath<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sPath<span class="pl-k">),</span> <span class="pl-s">&quot;data/replay/%s.txt&quot;</span><span class="pl-k">,</span> sMapName<span class="pl-k">);</span></div><div class='line js-file-line' id='LC483'>	hFile <span class="pl-k">=</span> <span class="pl-c1">OpenFile</span><span class="pl-k">(</span>sPath<span class="pl-k">,</span> <span class="pl-s">&quot;r&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC484'>	if<span class="pl-k">(</span>hFile <span class="pl-k">!=</span> <span class="pl-c1">INVALID_HANDLE</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC485'>	<span class="pl-k">{</span>			</div><div class='line js-file-line' id='LC486'>		while<span class="pl-k">(!</span><span class="pl-c1">IsEndOfFile</span><span class="pl-k">(</span>hFile<span class="pl-k">))</span></div><div class='line js-file-line' id='LC487'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC488'>			iPart <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC489'>			<span class="pl-c1">ReadFileLine</span><span class="pl-k">(</span>hFile<span class="pl-k">,</span> sData<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sData<span class="pl-k">));</span></div><div class='line js-file-line' id='LC490'>			iLength <span class="pl-k">=</span> <span class="pl-c1">strlen</span><span class="pl-k">(</span>sData<span class="pl-k">);</span></div><div class='line js-file-line' id='LC491'><br></div><div class='line js-file-line' id='LC492'>			if<span class="pl-k">(</span>iLength <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC493'>				continue<span class="pl-k">;</span></div><div class='line js-file-line' id='LC494'><br></div><div class='line js-file-line' id='LC495'>			fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0.0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC496'>			fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0.0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC497'>			fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0.0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC498'><br></div><div class='line js-file-line' id='LC499'>			for<span class="pl-k">(</span>new i<span class="pl-k">=</span><span class="pl-c1">0</span><span class="pl-k">;</span>i<span class="pl-k">&lt;</span>iLength<span class="pl-k">;</span>i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC500'>			<span class="pl-k">{</span></div><div class='line js-file-line' id='LC501'>				if<span class="pl-k">(</span><span class="pl-c1">StrContains</span><span class="pl-k">(</span>sData<span class="pl-k">[</span>i<span class="pl-k">],</span> <span class="pl-s">&quot;|&quot;</span><span class="pl-k">)</span> <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC502'>				<span class="pl-k">{</span></div><div class='line js-file-line' id='LC503'>					switch<span class="pl-k">(</span>iPart<span class="pl-k">)</span></div><div class='line js-file-line' id='LC504'>					<span class="pl-k">{</span></div><div class='line js-file-line' id='LC505'>						<span class="pl-c">// buttons</span></div><div class='line js-file-line' id='LC506'>						case <span class="pl-k">0</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC507'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC508'>							<span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-c1">StringToInt</span><span class="pl-k">(</span>sBuffer<span class="pl-k">));</span></div><div class='line js-file-line' id='LC509'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC510'>						<span class="pl-c">// impulse</span></div><div class='line js-file-line' id='LC511'>						case <span class="pl-k">1</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC512'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC513'>							<span class="pl-c1">PushArrayCell</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> <span class="pl-c1">StringToInt</span><span class="pl-k">(</span>sBuffer<span class="pl-k">));</span></div><div class='line js-file-line' id='LC514'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC515'>						<span class="pl-c">// real velocity[0]</span></div><div class='line js-file-line' id='LC516'>						case <span class="pl-k">2</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC517'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC518'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC519'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC520'>						<span class="pl-c">// real velocity[1]</span></div><div class='line js-file-line' id='LC521'>						case <span class="pl-k">3</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC522'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC523'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC524'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC525'>						<span class="pl-c">// real velocity[2]</span></div><div class='line js-file-line' id='LC526'>						case <span class="pl-k">4</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC527'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC528'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC529'>							<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC530'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC531'>						<span class="pl-c">// velocity[0]</span></div><div class='line js-file-line' id='LC532'>						case <span class="pl-k">5</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC533'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC534'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC535'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC536'>						<span class="pl-c">// velocity[1]</span></div><div class='line js-file-line' id='LC537'>						case <span class="pl-k">6</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC538'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC539'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC540'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC541'>						<span class="pl-c">// velocity[2]</span></div><div class='line js-file-line' id='LC542'>						case <span class="pl-k">7</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC543'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC544'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC545'>							<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC546'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC547'>						<span class="pl-c">// angles[0]</span></div><div class='line js-file-line' id='LC548'>						case <span class="pl-k">8</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC549'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC550'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC551'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC552'>						<span class="pl-c">// angles[1]</span></div><div class='line js-file-line' id='LC553'>						case <span class="pl-k">9</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC554'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC555'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC556'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0.0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC557'>							<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC558'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC559'>						<span class="pl-c">// weapon</span></div><div class='line js-file-line' id='LC560'>						case <span class="pl-k">10</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC561'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC562'>							if<span class="pl-k">(</span><span class="pl-c1">strlen</span><span class="pl-k">(</span>sBuffer<span class="pl-k">)</span> <span class="pl-k">==</span> <span class="pl-c1">0</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC563'>								<span class="pl-c1">Format</span><span class="pl-k">(</span>sBuffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sBuffer<span class="pl-k">),</span> <span class="pl-s">&quot;\0&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC564'>							<span class="pl-c1">PushArrayString</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC565'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC566'>						<span class="pl-c">// optional origin[0]</span></div><div class='line js-file-line' id='LC567'>						case <span class="pl-k">11</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC568'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC569'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC570'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC571'>						<span class="pl-c">// optional origin[1]</span></div><div class='line js-file-line' id='LC572'>						case <span class="pl-k">12</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC573'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC574'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">1</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC575'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC576'>						<span class="pl-c">// optional origin[2]</span></div><div class='line js-file-line' id='LC577'>						case <span class="pl-k">13</span><span class="pl-k">:</span></div><div class='line js-file-line' id='LC578'>						<span class="pl-k">{</span></div><div class='line js-file-line' id='LC579'>							fBuffer<span class="pl-k">[</span><span class="pl-c1">2</span><span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">StringToFloat</span><span class="pl-k">(</span>sBuffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC580'>							<span class="pl-c1">PushArrayArray</span><span class="pl-k">(</span>hData<span class="pl-k">,</span> fBuffer<span class="pl-k">,</span> <span class="pl-c1">3</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC581'>						<span class="pl-k">}</span></div><div class='line js-file-line' id='LC582'>					<span class="pl-k">}</span></div><div class='line js-file-line' id='LC583'>					<span class="pl-c1">Format</span><span class="pl-k">(</span>sBuffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sBuffer<span class="pl-k">),</span> <span class="pl-s">&quot;&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC584'>					iPart<span class="pl-k">++;</span></div><div class='line js-file-line' id='LC585'>					continue<span class="pl-k">;</span></div><div class='line js-file-line' id='LC586'>				<span class="pl-k">}</span></div><div class='line js-file-line' id='LC587'>				<span class="pl-c1">Format</span><span class="pl-k">(</span>sBuffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>sBuffer<span class="pl-k">),</span> <span class="pl-s">&quot;%s%c&quot;</span><span class="pl-k">,</span> sBuffer<span class="pl-k">,</span> sData<span class="pl-k">[</span>i<span class="pl-k">]);</span></div><div class='line js-file-line' id='LC588'>			<span class="pl-k">}</span></div><div class='line js-file-line' id='LC589'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC590'><br></div><div class='line js-file-line' id='LC591'>		<span class="pl-c1">CloseHandle</span><span class="pl-k">(</span>hFile<span class="pl-k">);</span></div><div class='line js-file-line' id='LC592'><br></div><div class='line js-file-line' id='LC593'>		<span class="pl-c1">DodgyFix</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC594'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC595'><br></div><div class='line js-file-line' id='LC596'>	<span class="pl-c1">CloseHandle</span><span class="pl-k">(</span>hDir<span class="pl-k">);</span></div><div class='line js-file-line' id='LC597'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC598'><br></div><div class='line js-file-line' id='LC599'>public <span class="pl-k">Action</span><span class="pl-k">:</span><span class="pl-c1">RefreshBot</span><span class="pl-k">(</span><span class="pl-k">Handle</span><span class="pl-k">:</span>timer<span class="pl-k">)</span></div><div class='line js-file-line' id='LC600'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC601'>	<span class="pl-c1">DodgyFix</span><span class="pl-k">();</span></div><div class='line js-file-line' id='LC602'><span class="pl-k">}</span></div><div class='line js-file-line' id='LC603'><br></div><div class='line js-file-line' id='LC604'>public <span class="pl-c1">DodgyFix</span><span class="pl-k">()</span></div><div class='line js-file-line' id='LC605'><span class="pl-k">{</span></div><div class='line js-file-line' id='LC606'>	new iBot <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC607'>	for<span class="pl-k">(</span>new i <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">;</span> i <span class="pl-k">&lt;=</span> <span class="pl-c1">MaxClients</span><span class="pl-k">;</span> i<span class="pl-k">++)</span></div><div class='line js-file-line' id='LC608'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC609'>		if<span class="pl-k">(!</span><span class="pl-c1">IsClientInGame</span><span class="pl-k">(</span>i<span class="pl-k">))</span></div><div class='line js-file-line' id='LC610'>			continue<span class="pl-k">;</span></div><div class='line js-file-line' id='LC611'>		if<span class="pl-k">(!</span><span class="pl-c1">IsFakeClient</span><span class="pl-k">(</span>i<span class="pl-k">))</span></div><div class='line js-file-line' id='LC612'>			continue<span class="pl-k">;</span></div><div class='line js-file-line' id='LC613'>		if<span class="pl-k">(!</span><span class="pl-c1">IsPlayerAlive</span><span class="pl-k">(</span>i<span class="pl-k">))</span></div><div class='line js-file-line' id='LC614'>		<span class="pl-k">{</span></div><div class='line js-file-line' id='LC615'>			<span class="pl-c1">CS_RespawnPlayer</span><span class="pl-k">(</span>i<span class="pl-k">);</span></div><div class='line js-file-line' id='LC616'>			continue<span class="pl-k">;</span></div><div class='line js-file-line' id='LC617'>		<span class="pl-k">}</span></div><div class='line js-file-line' id='LC618'><br></div><div class='line js-file-line' id='LC619'>		iBot <span class="pl-k">=</span> i<span class="pl-k">;</span></div><div class='line js-file-line' id='LC620'>		break<span class="pl-k">;</span></div><div class='line js-file-line' id='LC621'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC622'><br></div><div class='line js-file-line' id='LC623'>	if<span class="pl-k">(</span>iBot <span class="pl-k">!=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">)</span></div><div class='line js-file-line' id='LC624'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC625'>		new <span class="pl-k">String</span><span class="pl-k">:</span>name<span class="pl-k">[</span><span class="pl-c1">32</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC626'>		<span class="pl-c1">Timer_GetRecordHolderName</span><span class="pl-k">(</span>g_ModeDefault<span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> <span class="pl-c1">1</span><span class="pl-k">,</span> name<span class="pl-k">,</span> <span class="pl-c1">32</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC627'><br></div><div class='line js-file-line' id='LC628'>		new cacheid<span class="pl-k">,</span> total<span class="pl-k">;</span></div><div class='line js-file-line' id='LC629'>		new <span class="pl-k">Float</span><span class="pl-k">:</span>time<span class="pl-k">;</span></div><div class='line js-file-line' id='LC630'>		new <span class="pl-k">String</span><span class="pl-k">:</span>timestring<span class="pl-k">[</span><span class="pl-c1">32</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC631'><br></div><div class='line js-file-line' id='LC632'>		<span class="pl-c1">Timer_GetDifficultyRecordTime</span><span class="pl-k">(</span>g_ModeDefault<span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> cacheid<span class="pl-k">,</span> time<span class="pl-k">,</span> total<span class="pl-k">);</span></div><div class='line js-file-line' id='LC633'>		<span class="pl-c1">Timer_SecondsToTime</span><span class="pl-k">(</span>time<span class="pl-k">,</span> timestring<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>timestring<span class="pl-k">),</span> <span class="pl-c1">2</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC634'><br></div><div class='line js-file-line' id='LC635'>		new <span class="pl-k">String</span><span class="pl-k">:</span>buffer<span class="pl-k">[</span><span class="pl-c1">64</span><span class="pl-k">];</span></div><div class='line js-file-line' id='LC636'>		<span class="pl-c1">Format</span><span class="pl-k">(</span>buffer<span class="pl-k">,</span> <span class="pl-c1">sizeof</span><span class="pl-k">(</span>buffer<span class="pl-k">),</span> <span class="pl-s">&quot;%s [%s]&quot;</span><span class="pl-k">,</span> name<span class="pl-k">,</span> timestring<span class="pl-k">);</span></div><div class='line js-file-line' id='LC637'><br></div><div class='line js-file-line' id='LC638'>		<span class="pl-c1">CS_SetClientName</span><span class="pl-k">(</span>iBot<span class="pl-k">,</span> buffer<span class="pl-k">);</span></div><div class='line js-file-line' id='LC639'><br></div><div class='line js-file-line' id='LC640'>		<span class="pl-c1">SetEntityRenderColor</span><span class="pl-k">(</span>iBot<span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> <span class="pl-c1">0</span><span class="pl-k">,</span> <span class="pl-c1">255</span><span class="pl-k">,</span> <span class="pl-c1">50</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC641'>		g_iPlayerRecords<span class="pl-k">[</span>iBot<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC642'>		g_iBotMimicsRecord<span class="pl-k">[</span>iBot<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC643'>		g_iBotMimicTick<span class="pl-k">[</span>iBot<span class="pl-k">]</span> <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">;</span></div><div class='line js-file-line' id='LC644'>		<span class="pl-c1">Timer_Restart</span><span class="pl-k">(</span>iBot<span class="pl-k">);</span></div><div class='line js-file-line' id='LC645'>		<span class="pl-c1">Timer_SetMode</span><span class="pl-k">(</span>iBot<span class="pl-k">,</span> g_ModeDefault<span class="pl-k">);</span></div><div class='line js-file-line' id='LC646'><br></div><div class='line js-file-line' id='LC647'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC648'>	else </div><div class='line js-file-line' id='LC649'>	<span class="pl-k">{</span></div><div class='line js-file-line' id='LC650'>		<span class="pl-c1">ServerCommand</span><span class="pl-k">(</span><span class="pl-s">&quot;bot_quota 0&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC651'>		<span class="pl-c1">ServerCommand</span><span class="pl-k">(</span><span class="pl-s">&quot;bot_quota 1&quot;</span><span class="pl-k">);</span></div><div class='line js-file-line' id='LC652'>		<span class="pl-c1">CreateTimer</span><span class="pl-k">(</span><span class="pl-c1">2.0</span><span class="pl-k">,</span> RefreshBot<span class="pl-k">);</span></div><div class='line js-file-line' id='LC653'>	<span class="pl-k">}</span></div><div class='line js-file-line' id='LC654'><span class="pl-k">}</span></div></pre></div></div>
  </div>



  <footer class="clearfix">
    <div class="container">
      <a href="#"><svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z"></path></svg></a>

      <ul class="clearfix">
        <li>
          <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/site/mobile_preference" class="js-mobile-preference-form" data-form-nonce="b27134153fac4483911233fc2d94d53b3af629fb" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="wsgJjxuAksoZAx9wbPCfdzez/pVZEdtHlPgRikiivtH0ttfzyj6E0+2AMapwHfCsF3Hcp3hnIKQxesZ9vfSAjQ==" /></div>
            <input type="hidden" name="mobile" value="false">
            <input type="hidden" name="anchor" class="js-mobile-preference-anchor-field">

            <button type="submit" class="switch-to-desktop" data-ga-click="Mobile, switch to desktop, switch button">
              Desktop version
            </button>
</form>        </li>

      </ul>
    </div>
  </footer>
  
  <script async="async" crossorigin="anonymous" integrity="sha256-LkfCYoQ3/vsI0xDhKU3L/XGuTeNIf9qRWmTmGPIrRAU=" src="https://assets-cdn.github.com/assets/mobile-2e47c2628437fefb08d310e1294dcbfd71ae4de3487fda915a64e618f22b4405.js"></script>
</body>
</html>

